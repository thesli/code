// Generated by CoffeeScript 1.6.3
(function() {
  var app;

  app = angular.module("app", ['ui.router', 'rails']);

  app.factory("Book", [
    "railsResourceFactory", function(rrf) {
      return rrf({
        url: "/books",
        name: 'book'
      });
    }
  ]).controller("testCtrl", [
    "$scope", "Book", function($scope, Book) {
      $scope.make = function(bookname) {
        return new Book({
          name: bookname
        }).create();
      };
      return Book.query({
        name: 'A'
      }).then(function(data) {
        var d, _i, _len, _results;
        console.log(data);
        _results = [];
        for (_i = 0, _len = data.length; _i < _len; _i++) {
          d = data[_i];
          _results.push(Book.get({
            id: d.id
          }).then(function(bk) {
            bk.name = 'A';
            return bk.update();
          }));
        }
        return _results;
      });
    }
  ]);

}).call(this);

//# sourceMappingURL=main.map
